<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
    <title>ã¯ã¨ã‚ã’ãƒãƒ¼ã‚±ãƒƒãƒˆ - ãƒ¡ãƒ¼ãƒ«é€ä¿¡</title>
    <meta name="description" content="ç¾å‘³ã—ã„ã¯ã¨ã‚ã’ã‚’å‡ºæ¥ãŸã¦ã§æä¾›ã™ã‚‹æ¶ç©ºã®ã‚³ãƒ³ãƒ“ãƒ‹å…¬å¼ã‚µã‚¤ãƒˆã®ãƒ¡ãƒ¼ãƒ«ãƒã‚¬ã‚¸ãƒ³ã‚’ç™»éŒ²ã‚µã‚¤ãƒˆ">
    <meta name="keywords" content="ã‚ãŸã‚ã‚ãˆ, ã¯ã¨ã‚ã’, Fortnite, Discord, ã¯ã¨">
    <meta name="author" content="ã¯ã¨ã‚ã’ãƒãƒ¼ã‚±ãƒƒãƒˆ">
    <link rel="canonical" href="https://hatoage.wata777.f5.si/">
    <link rel="icon" href="/assets/logo.png" type="image/png">
    <link rel="stylesheet" href="/style.css">

    <!-- Atatus: ä¸è¦ãªtypeå±æ€§ã¨<font>ã‚’å‰Šé™¤ -->
    <script src="https://dmc1acwvwny3.cloudfront.net/atatus-spa.js"></script>
    <script>
        atatus.config('3b8a17d616d24583a30d41294ed01917').install();
    </script>
    <!--<script src="/script.js"></script>-->

    <!-- OGP -->
    <meta property="og:title" content="ã¯ã¨ã‚ã’ãƒãƒ¼ã‚±ãƒƒãƒˆ">
    <meta property="og:description" content="ç¾å‘³ã—ã„ã¯ã¨ã‚ã’ã‚’å‡ºæ¥ãŸã¦ã§æä¾›ã™ã‚‹æ¶ç©ºã®ã‚³ãƒ³ãƒ“ãƒ‹å…¬å¼ã‚µã‚¤ãƒˆã®ãƒ¡ãƒ¼ãƒ«ãƒã‚¬ã‚¸ãƒ³ã‚’ç™»éŒ²ã‚µã‚¤ãƒˆ">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://hatoage.wata.f5.si/">
    <meta property="og:image" content="https://hatoage.wata.f5.si/assets/logo.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ã¯ã¨ã‚ã’ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ¡ãƒ¼ãƒ«">
    <meta name="twitter:description" content="ç¾å‘³ã—ã„ã¯ã¨ã‚ã’ã‚’å‡ºæ¥ãŸã¦ã§æä¾›ã™ã‚‹æ¶ç©ºã®ã‚³ãƒ³ãƒ“ãƒ‹å…¬å¼ã‚µã‚¤ãƒˆã®ãƒ¡ãƒ¼ãƒ«ãƒã‚¬ã‚¸ãƒ³ç™»éŒ²ã‚µã‚¤ãƒˆ">
    <meta name="twitter:image" content="https://hatoage.wata777.f5.si/assets/logo.png">
<style>
body {
  font-family: sans-serif;
  background:#f6f6f6;
  padding:20px;
}
.box {
  background:#fff;
  padding:20px;
  border-radius:10px;
}
input, button {
  width:100%;
  padding:10px;
  margin-top:10px;
  font-size:16px;
}
button {
  background:#ff9800;
  border:none;
  color:#fff;
  border-radius:5px;
}
.overlay {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  display:none;
  align-items:center;
  justify-content:center;
}
.overlay .box {
  width:90%;
  max-width:320px;
}
</style>
</head>
<body>

<%- include("partials/header") %>

<div class="box">
  <h2>ğŸ“® ã¯ã¨ã‚ã’ ãƒ¡ãƒ¼ãƒ«ç™»éŒ²</h2>
  <p>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</p>
  <input id="email" placeholder="example@gmail.com">
  <button onclick="sendOtp()">èªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’é€ä¿¡</button>
</div>

<!-- OTP ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ -->
<div class="overlay" id="otpOverlay">
  <div class="box">
    <h3>èªè¨¼ã‚³ãƒ¼ãƒ‰å…¥åŠ›</h3>
    <input id="otp" placeholder="6æ¡ã‚³ãƒ¼ãƒ‰">
    <button onclick="verifyOtp()">ç¢ºèª</button>
  </div>
</div>

<!-- å®Œäº† -->
<div class="overlay" id="doneOverlay">
  <div class="box">
    <h3>âœ… ç™»éŒ²å®Œäº†</h3>
    <p>ãƒ¡ãƒ¼ãƒ«ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸ</p>
  </div>
</div>

<a href="/" id="btn" class="btn-link">ãƒ›ãƒ¼ãƒ </a>

<script>
async function sendOtp() {
  await fetch("/mail/send", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ email: email.value })
  });
  otpOverlay.style.display = "flex";
}

async function verifyOtp() {
  const r = await fetch("/mail/verify", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({
      email: email.value,
      otp: otp.value
    })
  });

  const j = await r.json();
  if (j.ok) {
    otpOverlay.style.display = "none";
    doneOverlay.style.display = "flex";
  } else {
    alert("èªè¨¼ã‚³ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™");
  }
}
</script>

<%- include("partials/footer") %>

</body>
</html>
